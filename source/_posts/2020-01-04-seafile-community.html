---
layout: post
title: 安裝Seafile community版
tag:
- raspberry pi 4
---

<div style="background-color: white;">
<font face="inherit" style="background-color: white;"><span style="color: #333333; font-family: consolas, menlo, monaco, &quot;lucida console&quot;, &quot;liberation mono&quot;, &quot;dejavu sans mono&quot;, &quot;bitstream vera sans mono&quot;, &quot;courier new&quot;, monospace;"><span style="font-size: 15px;">參考來源</span></span><br />
<span style="color: #333333; font-family: consolas, menlo, monaco, &quot;lucida console&quot;, &quot;liberation mono&quot;, &quot;dejavu sans mono&quot;, &quot;bitstream vera sans mono&quot;, &quot;courier new&quot;, monospace;"><span style="font-size: 15px;">#</span></span><a href="https://www.kancloud.cn/kancloud/seafile-manual/51505">https://www.kancloud.cn/kancloud/seafile-manual/51505</a><font face="inherit"><br />
</font></font><font face="inherit"><br /></font></div><div style="background-color: white;"><font face="inherit">1.下載Seafile套件<br /> <br /> 2.建立資料夾並解壓縮<br /><font color="#3367d6"> cd /home<br /> sudo mkdir haiwen <br /> sudo mv seafile-server_[版本號] haiwen <br /> cd haiwen <br /> sudo tar -xzf seafile-server_[版本號] <br /> sudo mkdir installed <br /> sudo mv seafile-server_* installed</font><br /> <br /> 3.安裝Python套件 <br /><font color="#3367d6"> sudo apt update <br /> sudo apt install python2.7 python-setuptools python-imaging python-mysqldb </font><br /> <br /> 4.建立root密碼並解鎖(等下MySQL會用到) <br /><font color="#3367d6"> sudo passwd root <br /> sudo passwd --unlock root</font></font></div><font face="inherit"><font color="#3367d6">5.安裝MariaDB<br /> sudo apt install mariadb-server<br /> sudo mysql_secure_installation </font><br /> <br /> 6.修改Linux 文件最大打開數 <br /><font color="#3367d6"> ulimit -n 30000 </font><br /> <br /> 7.開始安裝<br /><font color="#3367d6"> sudo ./setup-seafile-mysql.sh</font><br /> <br /> 8.設定seafile-data資料夾掛到其他如:NAS設備<br /><font color="#3367d6"> sudo nano /etc/fstab</font><br /> <br /> 9.修改設定,不限IP可登入管理界面<br />編輯/home/haiwen/conf/gunicorn.conf<br /> 將原本bind = "127.0.0.1:8000"<br /> 改成bind = "0.0.0.0:8000"</font><div style="background-color: white; color: #222222; font-family: helvetica, arial, sans-serif; font-size: 15px;"><font face="inherit">
<span style="color: #222222; vertical-align: inherit;">#</span><a href="https://forum.seafile.com/t/seafile-7-only-listens-to-127-0-0-1/9544/6" style="background-color: transparent; color: #222222;"><font color="#3367d6">https://forum.seafile.com/t/seafile-7-only-listens-to-127-0-0-1/9544/6</font></a></font></div><font face="inherit"><div><font face="inherit"><br /></font></div>
10.啟動Seafile服務 <br /><font color="#3367d6"> sudo ./seafile.sh start <br /> sudo ./seahub.sh start</font></font><br /><br /><font face="inherit"> 11.設定開機啟動</font><div style="background-color: white;">
<div style="background-color: white; color: #222222; font-family: helvetica, arial, sans-serif; font-size: 15px;"><font face="inherit">
可參考#<a href="https://www.kancloud.cn/kancloud/seafile-manual/51496">https://www.kancloud.cn/kancloud/seafile-manual/51496</a></font></div><font face="inherit">@刪除自動啟動腳本的-u ${user},直接以root帳號執行&nbsp;</font></div><div style="background-color: white;"><font face="inherit"><br />12.如果Seafile服務有對外需修改設定(改成對外IP)</font><div class="separator" style="background-color: white; clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgyZMdHLy-VF9HRuPGKmdRWwsLnu5woQtOXRU2ElyhCabV6UKproT-vqZIJYTh2_AfuPcC9JLZyul-w6ZQKxIYMqmbW-eplB9XwNh3VOqeP43KhsQPPP-6x00I1zkQ39wh-z8EP7PHlv4Jl/s1600/Image_20200210115117.png" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><font face="inherit"><img border="0" data-original-height="474" data-original-width="1286" height="146" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgyZMdHLy-VF9HRuPGKmdRWwsLnu5woQtOXRU2ElyhCabV6UKproT-vqZIJYTh2_AfuPcC9JLZyul-w6ZQKxIYMqmbW-eplB9XwNh3VOqeP43KhsQPPP-6x00I1zkQ39wh-z8EP7PHlv4Jl/s400/Image_20200210115117.png" width="400" /></font></a></div>
<span style="background-color: white; color: #222222; font-family: helvetica, arial, sans-serif; font-size: 15px;"><font face="inherit"><br /></font></span></div>
<div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><font face="inherit">13.安裝client端並登入,設定同步</font>
<div style="background-color: white; color: #222222; font-family: helvetica, arial, sans-serif; font-size: 15px;">
<br /></div>

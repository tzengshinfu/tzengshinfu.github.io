---
layout: post
title: 以web service起新流程時內容需換行的注意事項
---

1.情景:<br />
表單有TextArea控制項而且內容需換行,在呼叫invokeProcess起新流程時。<br />
<br />
2.測試:<br />
如果是獨立的TexArea控制項<br />
如:＜TextArea id="TextArea" dataType="java.lang.String" perDataProId=""＞(1)TTTTT<span style="color: #990000;">_換行_</span>(2)EEEEE<span style="color: #990000;">_換行_</span>(3)XXXXX<span style="color: #990000;">_換行_</span>(4)TTTTT＜/TextArea＞<br />
(1)<span style="color: #38761d;"><b>＆lt;br /＆gt;</b></span>→不會換行,直接變成純文字＜br /＞<br />
(2)<span style="color: #38761d;"><b>＆lt;br＆gt;</b></span>→不會換行,直接變成純文字＜br＞<br />
(3)<b><span style="color: #38761d;">\n</span></b>→不會換行,直接變成純文字\n<br />
(4)<span style="color: #38761d;"><b>＆#xA;</b></span>→會換行<br />
<br />
如果是Grid內的與TexArea控制項連結的欄位<br />
如:＜Grid id="Grid"＞<br />
&nbsp; &nbsp;＜records＞<br />
&nbsp; &nbsp; ＜record id="Grid"＞<br />
&nbsp; &nbsp; &nbsp;＜item id="TextArea" dataType="java.lang.String" perDataProId=""＞(1)TTTTT<span style="color: #990000;">_換行_</span>(2)EEEEE<span style="color: #990000;">_換行_</span>(3)XXXXX<span style="color: #990000;">_換行_</span>(4)TTTTT＜/item＞<br />
&nbsp; &nbsp; ＜/record＞<br />
&nbsp; &nbsp;＜/records＞<br />
&nbsp; ＜/Grid＞<br />
(1)<span style="color: #38761d;"><b>＆lt;br /＆gt;</b></span>→Grid欄位換行處會多一空白,點擊時顯示到TextArea也會換行(EasyFlow內部的標準做法)<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjvVJcGjb0BWFfOn85OAgvAjGc5vhIYjvSSDSATYgDpFFUVlBV-1gGqGxmlnZsmwOqvRKC5xIFB8iRPVXkgeVIOimHqYQiPzoon7cODH_A6pq9RSvJ7rpE7-h_Yi4CtEnjBFdVKQeyRWfN/s1600/Image_20190624124933.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="46" data-original-width="361" height="40" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjvVJcGjb0BWFfOn85OAgvAjGc5vhIYjvSSDSATYgDpFFUVlBV-1gGqGxmlnZsmwOqvRKC5xIFB8iRPVXkgeVIOimHqYQiPzoon7cODH_A6pq9RSvJ7rpE7-h_Yi4CtEnjBFdVKQeyRWfN/s320/Image_20190624124933.png" width="320" /></a></div>
(2)<b><span style="color: #38761d;">＆lt;br＆gt;</span></b>→Grid欄位顯示換行,但點擊時顯示到TextArea卻是變成純文字＜br＞而不會換行<br />
(3)<b><span style="color: #38761d;">\n</span></b>→Grid欄位換行處會多一空白,點擊時顯示到TextArea也會換行<br />
(4)<span style="color: #38761d;"><b>＆#xA;</b></span>→Grid資料完全無法載入顯示<br />
<br />
3.結論:<br />
獨立的TexArea控制項需使用<b><span style="color: #38761d;">＆#xA;</span></b>換行;如果是Grid內的與TexArea控制項連結的欄位則使用<span style="color: #38761d;"><b>＆lt;br /＆gt;</b></span>換行。<br />
(本文是全形,實際是半形)
